(this["webpackJsonpabacus-board"]=this["webpackJsonpabacus-board"]||[]).push([[0],{12:function(e,t,a){e.exports=a(26)},17:function(e,t,a){},18:function(e,t,a){},26:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(6),i=a.n(l),s=(a(17),a(1)),o=a(2),c=a(3),u=a(4),m=(a(18),a(8)),d=a.n(m),h=function(){function e(){Object(s.a)(this,e)}return Object(o.a)(e,null,[{key:"generateUUID",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}},{key:"randomDemoWord",value:function(){var e=["computrons","flops","positions","segments","miners","blocks","peripherals","relations","networks"];return e[Math.floor(Math.random()*e.length)]}},{key:"randomScalingFactor",value:function(){return Math.floor(200*Math.random())+100}},{key:"randomChartColor",value:function(){var e=["rgb(255, 99, 132)","rgb(245, 130, 155)","rgb(255, 159, 64)","rgb(255, 127, 80)","rgb(255, 205, 86)","rgb(70, 227, 149)","rgb(112, 235, 96)","rgb(54, 162, 235)","rgb(153, 102, 255)","rgb(218, 98, 240)"];return e[Math.floor(Math.random()*e.length)]}}]),e}(),p=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;Object(s.a)(this,a),(n=t.call(this,e)).state={results:{}},n.dataSet=[];for(var r=0;r<e.dataSet.length;r++){var l=e.dataSet[r].Name,i=e.dataSet[r].StartTime.toFixed(2),o=-1===e.dataSet[r].EndTime?"-":e.dataSet[r].EndTime.toFixed(2),c=e.dataSet[r].Duration.toFixed(2);n.dataSet.push({label:l,start:i,finish:o,duration:c})}return n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.dataSet.map((function(e,t){return r.a.createElement("tr",{className:"dataTableRow",key:t},r.a.createElement("td",{className:"dataTableCell"},e.label),r.a.createElement("td",{className:"dataTableCell"},e.start),r.a.createElement("td",{className:"dataTableCell"},e.finish),r.a.createElement("td",{className:"dataTableCell"},e.duration))}));return r.a.createElement("div",{className:"Window-Content dataTableContainer"},r.a.createElement("table",{className:"dataTable"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"dataTableCell"},"Label"),r.a.createElement("th",{className:"dataTableCell"},"Start"),r.a.createElement("th",{className:"dataTableCell"},"Finish"),r.a.createElement("th",{className:"dataTableCell"},"Duration")),e)))}}]),a}(n.Component);p.windowData={title:"\u23f2 Splitwatch",type:"react-component",component:"splitwatch",tooltip:"sequential event durations"};var b=p,v=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={results:{}},n.variableName=e.variableName||"NAME",n.variableType=e.variableType||"TYPE",n.dataSet=e.dataSet||[],n}return Object(o.a)(a,[{key:"prettyPrintValue",value:function(e){return Object.keys(e).map((function(t,a){return r.a.createElement("p",{key:a},t," = ",e[t])}))}},{key:"render",value:function(){var e=this,t=this.dataSet.map((function(t,a){return r.a.createElement("tr",{className:"dataTableRow",key:a},r.a.createElement("td",{className:"dataTableCell"},t.Time.toFixed(1)),r.a.createElement("td",{className:"dataTableCell"},e.prettyPrintValue(t.Value)))}));return r.a.createElement("div",{className:"Window-Content"},r.a.createElement("table",{className:"dataTable"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"dataTableCell"},"Time"),r.a.createElement("th",{className:"dataTableCell"},"Value")),t)))}}]),a}(n.Component);v.windowData={title:"\ud83d\udcbd Generic Set",type:"react-component",component:"generic-set",tooltip:"generic data set"};var f=v,y=function(){function e(t){Object(s.a)(this,e),this.files=t,this.contents=[],this.config=void 0,this.projectData=void 0,this.onLayoutBuilt=function(){},this.windowCount=-1}return Object(o.a)(e,[{key:"build",value:function(){for(var e=0;e<this.files.length;e++)this.files[e]&&this.parseFile(this.files[e])}},{key:"constructSet",value:function(e){var t=Object.keys(e.Data[0].Value).length;return 0==t?{title:"\ud83d\udcc8 Numeric Set "+e.VariableName,type:"react-component",component:"numeric-set",tooltip:"numeric data set",props:{variableName:e.VariableName,variableType:e.VariableType,dataSet:e.Data}}:t>0?{title:"\ud83d\udcbd Generic Set "+e.VariableName,type:"react-component",component:"generic-set",tooltip:"generic data set",props:{variableName:e.VariableName,variableType:e.VariableType,dataSet:e.Data}}:void 0}},{key:"constructTimestamp",value:function(e){return{title:"\u231b Timestamp",type:"react-component",component:"timestamp",tooltip:"timestamped events",props:{variableName:e.VariableName,dataSet:e.Data}}}},{key:"constructStopwatch",value:function(e){return{title:"\u23f1 Stopwatch",type:"react-component",component:"stopwatch",tooltip:"repeated event durations",props:{variableName:e.VariableName,dataSet:e.Data}}}},{key:"constructSplitwatch",value:function(e){return{title:"\u23f2 Splitwatch",type:"react-component",component:"splitwatch",tooltip:"sequential event durations",props:{variableName:e.VariableName,dataSet:e.Data}}}},{key:"assignContents",value:function(e){var t=JSON.parse(e.target.result);this.windowCount=t.Records.length,this.projectData=t.ProjectData;for(var a=0;a<t.Records.length;a++){var n=t.Records[a];if(0!==n.Data.length){var r=void 0;switch(n.DisplayType){case"set":r=this.constructSet(n),this.contents.push(r);break;case"splitwatch":r=this.constructSplitwatch(n),this.contents.push(r);break;case"stopwatch":r=this.constructStopwatch(n),this.contents.push(r);break;case"timestamp":r=this.constructTimestamp(n),this.contents.push(r);break;default:console.log("invalid display type")}}}this.contents.length===this.windowCount&&(this.config={dimensions:{borderWidth:1,minItemHeight:10,minItemWidth:10,headerHeight:20,dragProxyWidth:300,dragProxyHeight:200},labels:{close:"close",maximise:"maximise",minimise:"minimise",popout:"open in new window"},content:[{type:"row",content:this.contents}]},this.onLayoutBuilt())}},{key:"parseFile",value:function(e){var t=this,a=new FileReader;a.onload=function(e){t.assignContents(e)},a.onerror=function(e){console.log("error reading file")},a.readAsText(e,"UTF-8")}}]),e}(),E=a(9),g=a.n(E),N=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={results:{}},n.dataset=e.dataset,n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.generateStatistics(this.dataset);return r.a.createElement("div",{className:"statisticsContainer"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("div",{className:"statisticBox"},"average: ",e.average.toFixed(2)))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("div",{className:"statisticBox"},"median: ",e.median.toFixed(2)))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("div",{className:"statisticBox"},"max: ",e.max.toFixed(2)))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("div",{className:"statisticBox"},"min: ",e.min.toFixed(2)))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("div",{className:"statisticBox"},"stddev: ",e.stddev.toFixed(2)))))))}},{key:"generateStatistics",value:function(e){if(0===e.length)return 0;for(var t=0,a=1/0,n=Number.NEGATIVE_INFINITY,r=n-a,l=0;l<e.length;l++)t+=e[l],e[l]<a&&(a=e[l]),e[l]>n&&(n=e[l]);for(var i=t/e.length,s=[],o=0;o<e.length;o++){var c=e[o]-i;s.push(c*c)}for(var u=0,m=0;m<s.length;m++)u+=s[m];var d=Math.sqrt(u/s.length),h=Math.floor(e.length/2);return{average:i,median:e.length%2?e[h]:(e[h-1]+e[h])/2,max:n,min:a,range:r,stddev:d}}}]),a}(n.Component),x=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;Object(s.a)(this,a),(n=t.call(this,e)).state={results:{}},n.variableName=e.variableName||"NAME",n.variableType=e.variableType||"TYPE",n.dataSet=e.dataSet||[],n.xAxisLabel=e.xAxisLabel||"Time (s)",n.yAxisLabel=e.yAxisLabel||"Value",n.labels=[],n.chartSet=[],n.canvasID="chart"+h.generateUUID();for(var r=0;r<n.dataSet.length;r++){var l=n.dataSet[r];n.labels.push(l.Time.toFixed(1)),n.chartSet.push(l.Value)}return n}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"Window-Content"},r.a.createElement("div",{className:"chart-container"},r.a.createElement("canvas",{id:this.canvasID,"aria-label":"Numeric Set Line Chart",role:"img"})),r.a.createElement("br",null),r.a.createElement(N,{dataset:this.chartSet}))}},{key:"drawChart",value:function(){var e=document.getElementById(this.canvasID).getContext("2d");new g.a(e,{type:"line",data:{labels:this.labels,datasets:[{label:this.variableName,backgroundColor:h.randomChartColor(),borderColor:h.randomChartColor(),data:this.chartSet,fill:!1}]},options:{responsive:!0,title:{display:!0,text:this.variableName},tooltips:{mode:"index",intersect:!1},hover:{mode:"nearest",intersect:!0},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:this.xAxisLabel}}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:this.yAxisLabel}}]}}})}},{key:"componentDidMount",value:function(){this.drawChart()}},{key:"componentDidUpdate",value:function(){this.drawChart()}}]),a}(n.Component);x.windowData={title:"\ud83d\udcc8 Numeric Set",type:"react-component",component:"numeric-set",tooltip:"numeric data set"};var C=x,S=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;Object(s.a)(this,a),(n=t.call(this,e)).state={results:{}},n.dataSet=[];for(var r=0;r<e.dataSet.length;r++)n.dataSet.push({time:e.dataSet[r].Time.toFixed(2),data:e.dataSet[r].Name});return n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.dataSet.map((function(e,t){return r.a.createElement("tr",{className:"dataTableRow",key:t},r.a.createElement("td",{className:"dataTableCell"},e.time),r.a.createElement("td",{className:"dataTableCell"},e.data))}));return r.a.createElement("div",{className:"Window-Content"},r.a.createElement("table",{className:"dataTable"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"dataTableCell"},"Time"),r.a.createElement("th",{className:"dataTableCell"},"Value")),e)))}}]),a}(n.Component);S.windowData={title:"\u231b Timestamp",type:"react-component",component:"timestamp",tooltip:"timestamped events"};var j=S,T=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;Object(s.a)(this,a),(n=t.call(this,e)).state={results:{}},n.name=e.variableName||"VARIABLE NAME",n.dataSet=[];for(var r=0;r<e.dataSet.length;r++){var l=e.dataSet[r].StartTime.toFixed(2),i=-1===e.dataSet[r].EndTime?"-":e.dataSet[r].EndTime.toFixed(2),o=e.dataSet[r].Duration.toFixed(2);n.dataSet.push({start:l,finish:i,duration:o})}return n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.dataSet.map((function(e,t){return r.a.createElement("tr",{className:"dataTableRow",key:t},r.a.createElement("td",{className:"dataTableCell"},e.start),r.a.createElement("td",{className:"dataTableCell"},e.finish),r.a.createElement("td",{className:"dataTableCell"},e.duration))}));return r.a.createElement("div",{className:"Window-Content"},r.a.createElement("table",{className:"dataTable"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"dataTableCell"},"Start"),r.a.createElement("th",{className:"dataTableCell"},"Finish"),r.a.createElement("th",{className:"dataTableCell"},"Duration")),e)))}}]),a}(n.Component);T.windowData={title:"\u23f1 Stopwatch",type:"react-component",component:"stopwatch",tooltip:"repeated event durations"};var w=T,k=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={results:{}},n.files=e.files,n.hasRendered=!1,n}return Object(o.a)(a,[{key:"drawLayout",value:function(){var e=this,t=new y(this.files),a=document.getElementById("layoutContainer");t.onLayoutBuilt=function(n){var r=new d.a(t.config,a);r.registerComponent("numeric-set",C),r.registerComponent("generic-set",f),r.registerComponent("timestamp",j),r.registerComponent("stopwatch",w),r.registerComponent("splitwatch",b),r.on("tabCreated",(function(e){e.element.attr("title",e.contentItem.config.tooltip)})),r.init(),e.props.parentCallback(t.projectData)},t.build(),this.hasRendered=!0}},{key:"shouldComponentUpdate",value:function(e,t){return!this.hasRendered}},{key:"componentDidMount",value:function(){this.drawLayout()}},{key:"componentDidUpdate",value:function(){this.drawLayout()}},{key:"render",value:function(){var e=window.innerHeight-90;return r.a.createElement("div",{id:"layoutContainer",style:{height:e}})}}]),a}(n.Component),O=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={results:{}},n.unityVersion="2019.3",n.duration="12:00am - 12:10am, 1/1/2020",n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.data;return 0===Object.keys(e).length&&e.constructor===Object?r.a.createElement("div",{className:"Project-Data"}):r.a.createElement("div",{className:"Project-Data"},r.a.createElement("p",null,e.Name," v.",e.Version),r.a.createElement("p",null,e.Platform,", unity ",e.UnityVersion),r.a.createElement("p",null,"by ",e.Author),r.a.createElement("p",null,"dataset from ",e.StartTime," - ",e.EndTime,", ",e.Date," (",e.Duration,")"))}}]),a}(n.Component),D=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleButtonClick=function(e){e.preventDefault(),n.fileSelector.click()},n.state={results:{}},n.buttonLabel=e.buttonLabel,n}return Object(o.a)(a,[{key:"buildFileSelector",value:function(){var e=document.createElement("input");return e.setAttribute("type","file"),e.setAttribute("multiple","multiple"),e}},{key:"handleFileSelect",value:function(e){console.log("handling file");var t=e.target.files[0];if(t){".json"===t.type&&".abc"===t.type||console.log("Invalid file type");var a=new FileReader;a.readAsText(t,"UTF-8"),a.onload=function(e){console.log(e.target.result)},a.onerror=function(e){console.log("error reading file")},document.getElementById("splashScreen").style.display="none"}}},{key:"componentDidMount",value:function(){this.fileSelector=this.buildFileSelector(),this.fileSelector.addEventListener("change",this.handleFileSelect,!1)}},{key:"render",value:function(){return r.a.createElement("button",{onClick:this.handleButtonClick},this.buttonLabel)}}]),a}(r.a.Component),F=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={results:{}},n.hasFiles=e.hasFiles,n}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"ToolbarContainer"},r.a.createElement("div",{className:"ToolbarInner"},r.a.createElement("h1",null,"\ud83d\udccbabacus board")),r.a.createElement("div",{className:"ToolbarInner",style:{marginLeft:"25px"}},r.a.createElement(O,{data:this.props.projectData})),this.hasFiles&&r.a.createElement("div",{className:"ToolbarInner"},r.a.createElement(D,{buttonLabel:"Regenerate"})))}}]),a}(n.Component),I=a(11),L=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onDrop=function(e){n.setState({files:e}),n.sendData()},n.state={files:[]},n}return Object(o.a)(a,[{key:"sendData",value:function(){this.props.parentCallback(this.state.files)}},{key:"render",value:function(){this.state.files.map((function(e){return r.a.createElement("li",{key:e.name},e.name," - ",e.size," bytes")}));return r.a.createElement(I.a,{onDrop:this.onDrop},(function(e){var t=e.getRootProps,a=e.getInputProps;return r.a.createElement("section",{className:"dropzoneContainer"},r.a.createElement("div",t({className:"dropzone"}),r.a.createElement("input",a()),r.a.createElement("p",null,"drag 'n' drop or click to select file(s)")))}))}}]),a}(n.Component),V=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).onFilesLoaded=function(t){e.setState((function(a){return{isInitialized:!0,hasParsed:e.state.hasParsed,files:t,projectData:e.state.projectData}}))},e.onFilesParsed=function(t){e.setState((function(a){return{isInitialized:e.state.isInitialized,hasParsed:!0,files:e.state.files,projectData:t}}))},e.state={results:{}},e.state={isInitialized:!1,hasParsed:!1,files:[],projectData:{}},e}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(F,{id:"toolbar",hasFiles:this.state.isInitialized,projectData:this.state.projectData}),this.state.isInitialized?r.a.createElement(k,{parentCallback:this.onFilesParsed,files:this.state.files}):r.a.createElement(L,{parentCallback:this.onFilesLoaded}))}}]),a}(n.Component);a(24),a(25);i.a.render(r.a.createElement(V,null),document.getElementById("root"),(function(){console.log("React DOM rendered (callback)")})),window.React=r.a,window.ReactDOM=i.a}},[[12,1,2]]]);
//# sourceMappingURL=main.a3ec59bd.chunk.js.map