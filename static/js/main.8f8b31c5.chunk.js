(this["webpackJsonpabacus-board"]=this["webpackJsonpabacus-board"]||[]).push([[0],{12:function(e,t,a){e.exports=a(26)},17:function(e,t,a){},18:function(e,t,a){},26:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(6),i=a.n(r),s=(a(17),a(1)),o=a(2),c=a(5),m=a(4),u=(a(18),a(8)),d=a.n(u),p=function(){function e(){Object(s.a)(this,e)}return Object(o.a)(e,null,[{key:"generateUUID",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}},{key:"randomDemoWord",value:function(){var e=["computrons","flops","positions","segments","miners","blocks","peripherals","relations","networks"];return e[Math.floor(Math.random()*e.length)]}},{key:"randomScalingFactor",value:function(){return Math.floor(200*Math.random())+100}},{key:"randomChartColor",value:function(){var e=["rgb(255, 99, 132)","rgb(245, 130, 155)","rgb(255, 159, 64)","rgb(255, 127, 80)","rgb(255, 205, 86)","rgb(70, 227, 149)","rgb(112, 235, 96)","rgb(54, 162, 235)","rgb(153, 102, 255)","rgb(218, 98, 240)"];return e[Math.floor(Math.random()*e.length)]}}]),e}(),h=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(s.a)(this,a),(n=t.call(this,e)).state={results:{}},n.dataSet=[];for(var l=0;l<e.dataSet.length;l++){var r=e.dataSet[l].Name,i=e.dataSet[l].StartTime.toFixed(2),o=-1===e.dataSet[l].EndTime?"-":e.dataSet[l].EndTime.toFixed(2),c=e.dataSet[l].Duration.toFixed(2);n.dataSet.push({label:r,start:i,finish:o,duration:c})}return n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.dataSet.map((function(e,t){return l.a.createElement("tr",{className:"dataTableRow",key:t},l.a.createElement("td",{className:"dataTableCell"},e.label),l.a.createElement("td",{className:"dataTableCell"},e.start),l.a.createElement("td",{className:"dataTableCell"},e.finish),l.a.createElement("td",{className:"dataTableCell"},e.duration))}));return l.a.createElement("div",{className:"Window-Content dataTableContainer"},l.a.createElement("table",{className:"dataTable"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"dataTableCell"},"Label"),l.a.createElement("th",{className:"dataTableCell"},"Start"),l.a.createElement("th",{className:"dataTableCell"},"Finish"),l.a.createElement("th",{className:"dataTableCell"},"Duration")),e)))}}]),a}(n.Component);h.windowData={title:"\u23f2 Splitwatch",type:"react-component",component:"splitwatch",tooltip:"sequential event durations"};var b=h,v=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={results:{}},n.variableName=e.variableName||"NAME",n.variableType=e.variableType||"TYPE",n.dataSet=e.dataSet||[],n}return Object(o.a)(a,[{key:"prettyPrintValue",value:function(e){return Object.keys(e).map((function(t,a){return l.a.createElement("p",{key:a},t," = ",e[t])}))}},{key:"render",value:function(){var e=this,t=this.dataSet.map((function(t,a){return l.a.createElement("tr",{className:"dataTableRow",key:a},l.a.createElement("td",{className:"dataTableCell"},t.Time.toFixed(1)),l.a.createElement("td",{className:"dataTableCell"},e.prettyPrintValue(t.Value)))}));return l.a.createElement("div",{className:"Window-Content"},l.a.createElement("table",{className:"dataTable"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"dataTableCell"},"Time"),l.a.createElement("th",{className:"dataTableCell"},"Value")),t)))}}]),a}(n.Component);v.windowData={title:"\ud83d\udcbd Generic Set",type:"react-component",component:"generic-set",tooltip:"generic data set"};var f=v,y=function(){function e(t){Object(s.a)(this,e),this.files=t,this.contents=[],this.config=void 0,this.projectData=void 0,this.onLayoutBuilt=function(){},this.windowCount=-1}return Object(o.a)(e,[{key:"build",value:function(){for(var e=0;e<this.files.length;e++)this.files[e]&&this.parseFile(this.files[e])}},{key:"buildDirect",value:function(e){this.assignContents(e)}},{key:"constructSet",value:function(e){var t=Object.keys(e.Data[0].Value).length;return 0==t?{title:"\ud83d\udcc8 Numeric Set "+e.VariableName,type:"react-component",component:"numeric-set",tooltip:"numeric data set",props:{variableName:e.VariableName,variableType:e.VariableType,dataSet:e.Data}}:t>0?{title:"\ud83d\udcbd Generic Set "+e.VariableName,type:"react-component",component:"generic-set",tooltip:"generic data set",props:{variableName:e.VariableName,variableType:e.VariableType,dataSet:e.Data}}:void 0}},{key:"constructTimestamp",value:function(e){return{title:"\u231b Timestamp",type:"react-component",component:"timestamp",tooltip:"timestamped events",props:{variableName:e.VariableName,dataSet:e.Data}}}},{key:"constructStopwatch",value:function(e){return{title:"\u23f1 Stopwatch",type:"react-component",component:"stopwatch",tooltip:"repeated event durations",props:{variableName:e.VariableName,dataSet:e.Data}}}},{key:"constructSplitwatch",value:function(e){return{title:"\u23f2 Splitwatch",type:"react-component",component:"splitwatch",tooltip:"sequential event durations",props:{variableName:e.VariableName,dataSet:e.Data}}}},{key:"assignContents",value:function(e){var t=JSON.parse(e);this.windowCount=t.Records.length,this.projectData=t.ProjectData;for(var a=0;a<t.Records.length;a++){var n=t.Records[a];if(0!==n.Data.length){var l=void 0;switch(n.DisplayType){case"set":l=this.constructSet(n),this.contents.push(l);break;case"splitwatch":l=this.constructSplitwatch(n),this.contents.push(l);break;case"stopwatch":l=this.constructStopwatch(n),this.contents.push(l);break;case"timestamp":l=this.constructTimestamp(n),this.contents.push(l);break;default:console.log("invalid display type")}}else this.windowCount--}this.contents.length===this.windowCount&&(this.config={settings:{showPopoutIcon:!1},dimensions:{borderWidth:1,minItemHeight:10,minItemWidth:10,headerHeight:20,dragProxyWidth:300,dragProxyHeight:200},labels:{close:"close",maximise:"maximise",minimise:"minimise",popout:"open in new window"},content:[{type:"row",content:this.contents}]},this.onLayoutBuilt())}},{key:"parseFile",value:function(e){var t=this,a=new FileReader;a.onload=function(e){t.assignContents(e.target.result)},a.onerror=function(e){console.log("error reading file")},a.readAsText(e,"UTF-8")}}]),e}(),E=a(9),T=a.n(E),N=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={results:{}},n.dataset=e.dataset,n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.generateStatistics(this.dataset);return l.a.createElement("div",{className:"statisticsContainer"},l.a.createElement("table",null,l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("div",{className:"statisticBox"},"average: ",e.average.toFixed(2)))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("div",{className:"statisticBox"},"median: ",e.median.toFixed(2)))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("div",{className:"statisticBox"},"max: ",e.max.toFixed(2)))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("div",{className:"statisticBox"},"min: ",e.min.toFixed(2)))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("div",{className:"statisticBox"},"stddev: ",e.stddev.toFixed(2)))))))}},{key:"generateStatistics",value:function(e){if(0===e.length)return 0;for(var t=0,a=1/0,n=Number.NEGATIVE_INFINITY,l=0;l<e.length;l++)t+=e[l],e[l]<a&&(a=e[l]),e[l]>n&&(n=e[l]);for(var r=t/e.length,i=n-a,s=[],o=0;o<e.length;o++){var c=e[o]-r;s.push(c*c)}for(var m=0,u=0;u<s.length;u++)m+=s[u];var d=Math.sqrt(m/s.length),p=Math.floor(e.length/2);return{average:r,median:e.length%2?e[p]:(e[p-1]+e[p])/2,max:n,min:a,range:i,stddev:d}}}]),a}(n.Component),g=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(s.a)(this,a),(n=t.call(this,e)).state={results:{}},n.variableName=e.variableName||"NAME",n.variableType=e.variableType||"TYPE",n.dataSet=e.dataSet||[],n.xAxisLabel=e.xAxisLabel||"Time (s)",n.yAxisLabel=e.yAxisLabel||"Value",n.labels=[],n.chartSet=[],n.canvasID="chart"+p.generateUUID();for(var l=0;l<n.dataSet.length;l++){var r=n.dataSet[l];n.labels.push(r.Time.toFixed(1)),n.chartSet.push(r.Value)}return n}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"Window-Content"},l.a.createElement("div",{className:"chart-container"},l.a.createElement("canvas",{id:this.canvasID,"aria-label":"Numeric Set Line Chart",role:"img"})),l.a.createElement("br",null),l.a.createElement(N,{dataset:this.chartSet}))}},{key:"drawChart",value:function(){var e=document.getElementById(this.canvasID).getContext("2d");new T.a(e,{type:"line",data:{labels:this.labels,datasets:[{label:this.variableName,backgroundColor:p.randomChartColor(),borderColor:p.randomChartColor(),data:this.chartSet,fill:!1}]},options:{responsive:!0,title:{display:!0,text:this.variableName},tooltips:{mode:"index",intersect:!1},hover:{mode:"nearest",intersect:!0},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:this.xAxisLabel}}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:this.yAxisLabel}}]}}})}},{key:"componentDidMount",value:function(){this.drawChart()}},{key:"componentDidUpdate",value:function(){this.drawChart()}}]),a}(n.Component);g.windowData={title:"\ud83d\udcc8 Numeric Set",type:"react-component",component:"numeric-set",tooltip:"numeric data set"};var x=g,S=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(s.a)(this,a),(n=t.call(this,e)).state={results:{}},n.dataSet=[];for(var l=0;l<e.dataSet.length;l++)n.dataSet.push({time:e.dataSet[l].Time.toFixed(2),data:e.dataSet[l].Name});return n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.dataSet.map((function(e,t){return l.a.createElement("tr",{className:"dataTableRow",key:t},l.a.createElement("td",{className:"dataTableCell"},e.time),l.a.createElement("td",{className:"dataTableCell"},e.data))}));return l.a.createElement("div",{className:"Window-Content"},l.a.createElement("table",{className:"dataTable"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"dataTableCell"},"Time"),l.a.createElement("th",{className:"dataTableCell"},"Value")),e)))}}]),a}(n.Component);S.windowData={title:"\u231b Timestamp",type:"react-component",component:"timestamp",tooltip:"timestamped events"};var D=S,C=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(s.a)(this,a),(n=t.call(this,e)).state={results:{}},n.name=e.variableName||"VARIABLE NAME",n.dataSet=[];for(var l=0;l<e.dataSet.length;l++){var r=e.dataSet[l].StartTime.toFixed(2),i=-1===e.dataSet[l].EndTime?"-":e.dataSet[l].EndTime.toFixed(2),o=e.dataSet[l].Duration.toFixed(2);n.dataSet.push({start:r,finish:i,duration:o})}return n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.dataSet.map((function(e,t){return l.a.createElement("tr",{className:"dataTableRow",key:t},l.a.createElement("td",{className:"dataTableCell"},e.start),l.a.createElement("td",{className:"dataTableCell"},e.finish),l.a.createElement("td",{className:"dataTableCell"},e.duration))}));return l.a.createElement("div",{className:"Window-Content"},l.a.createElement("table",{className:"dataTable"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"dataTableCell"},"Start"),l.a.createElement("th",{className:"dataTableCell"},"Finish"),l.a.createElement("th",{className:"dataTableCell"},"Duration")),e)))}}]),a}(n.Component);C.windowData={title:"\u23f1 Stopwatch",type:"react-component",component:"stopwatch",tooltip:"repeated event durations"};var w=C,j=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={results:{}},n.files=e.files,n.hasRendered=!1,n.buildDemo=e.buildDemo,console.log("build demo: "+n.buildDemo),n}return Object(o.a)(a,[{key:"drawLayout",value:function(){var e=this;setTimeout((function(){var t=new y(e.files),a=document.getElementById("layoutContainer");t.onLayoutBuilt=function(n){var l=new d.a(t.config,a);l.registerComponent("numeric-set",x),l.registerComponent("generic-set",f),l.registerComponent("timestamp",D),l.registerComponent("stopwatch",w),l.registerComponent("splitwatch",b),l.on("tabCreated",(function(e){e.element.attr("title",e.contentItem.config.tooltip)})),l.init(),e.props.parentCallback(t.projectData)},!1===e.props.buildDemo?(console.log("building"),t.build()):(console.log("building demo content"),t.buildDirect('\n            {\n                "ProjectData": {\n                  "Name": "JSON_Example",\n                  "Version": "0.1",\n                  "Platform": "WindowsEditor",\n                  "Author": "DefaultCompany",\n                  "UnityVersion": "2019.2.16f1",\n                  "StartTime": "6:00:19 PM",\n                  "EndTime": "6:00:29 PM",\n                  "Date": "4/11/2020",\n                  "Duration": "00:00:10.2195326"\n                },\n                "Records": [\n                  {\n                    "DisplayType": "set",\n                    "VariableName": "Noise",\n                    "VariableType": "System.Single",\n                    "Data": [\n                      {\n                        "Value": 0.0,\n                        "Time": 0.0\n                      },\n                      {\n                        "Value": 0.465273559,\n                        "Time": 1.01499987\n                      },\n                      {\n                        "Value": 0.4652718,\n                        "Time": 2.02431583\n                      },\n                      {\n                        "Value": 0.4652898,\n                        "Time": 3.03658938\n                      },\n                      {\n                        "Value": 0.465305239,\n                        "Time": 4.049621\n                      },\n                      {\n                        "Value": 0.4652255,\n                        "Time": 5.064625\n                      },\n                      {\n                        "Value": 0.465273082,\n                        "Time": 6.078663\n                      },\n                      {\n                        "Value": 0.465247363,\n                        "Time": 7.08807564\n                      },\n                      {\n                        "Value": 0.465360463,\n                        "Time": 8.096925\n                      },\n                      {\n                        "Value": 0.460046858,\n                        "Time": 9.098421\n                      }\n                    ]\n                  },\n                  {\n                    "DisplayType": "set",\n                    "VariableName": "position",\n                    "VariableType": "UnityEngine.Vector3",\n                    "Data": [\n                      {\n                        "Value": {\n                          "x": 0.0,\n                          "y": 0.0,\n                          "z": 0.0\n                        },\n                        "Time": 0.0\n                      },\n                      {\n                        "Value": {\n                          "x": 0.0,\n                          "y": 0.0,\n                          "z": 0.0\n                        },\n                        "Time": 1.01499987\n                      },\n                      {\n                        "Value": {\n                          "x": 0.0,\n                          "y": 0.0,\n                          "z": 0.0\n                        },\n                        "Time": 2.02431583\n                      },\n                      {\n                        "Value": {\n                          "x": 0.0,\n                          "y": 0.0,\n                          "z": 0.0\n                        },\n                        "Time": 3.03658938\n                      },\n                      {\n                        "Value": {\n                          "x": 0.0,\n                          "y": 0.0,\n                          "z": 0.0\n                        },\n                        "Time": 4.049621\n                      },\n                      {\n                        "Value": {\n                          "x": 0.0,\n                          "y": 0.0,\n                          "z": 0.0\n                        },\n                        "Time": 5.064625\n                      },\n                      {\n                        "Value": {\n                          "x": 0.0,\n                          "y": 0.0,\n                          "z": 0.0\n                        },\n                        "Time": 6.078663\n                      },\n                      {\n                        "Value": {\n                          "x": 0.0,\n                          "y": 0.0,\n                          "z": 0.0\n                        },\n                        "Time": 7.08807564\n                      },\n                      {\n                        "Value": {\n                          "x": 1.2,\n                          "y": 0.0,\n                          "z": 0.0\n                        },\n                        "Time": 8.096925\n                      },\n                      {\n                        "Value": {\n                          "x": 1.2,\n                          "y": 0.0,\n                          "z": 0.0\n                        },\n                        "Time": 9.098421\n                      }\n                    ]\n                  },\n                  {\n                    "DisplayType": "splitwatch",\n                    "VariableName": "Splitwatch",\n                    "VariableType": "System.Single",\n                    "Data": [\n                      {\n                        "Name": "Split",\n                        "StartTime": 1.68864834,\n                        "EndTime": 4.049621,\n                        "Duration": 2.360973\n                      },\n                      {\n                        "Name": "Split",\n                        "StartTime": 4.72536135,\n                        "EndTime": -1.0,\n                        "Duration": 5.16479445\n                      }\n                    ]\n                  },\n                  {\n                    "DisplayType": "stopwatch",\n                    "VariableName": "Stopwatch",\n                    "VariableType": "System.Single",\n                    "Data": [\n                      {\n                        "StartTime": 1.68864834,\n                        "EndTime": 4.049621,\n                        "Duration": 2.360973\n                      },\n                      {\n                        "StartTime": 4.72536135,\n                        "EndTime": -1.0,\n                        "Duration": 5.16479445\n                      }\n                    ]\n                  },\n                  {\n                    "DisplayType": "timestamp",\n                    "VariableName": "Event Timestamper",\n                    "VariableType": "System.Single",\n                    "Data": [\n                      {\n                        "Time": 2.851527,\n                        "Name": "someName"\n                      },\n                      {\n                        "Time": 5.11529255,\n                        "Name": "someName"\n                      },\n                      {\n                        "Time": 5.55360746,\n                        "Name": "someName"\n                      }\n                    ]\n                  }\n                ]\n              }\n            ')),e.hasRendered=!0}),0)}},{key:"shouldComponentUpdate",value:function(e,t){return!this.hasRendered}},{key:"componentDidMount",value:function(){this.files&&0!==this.files.length&&this.drawLayout()}},{key:"render",value:function(){var e=window.innerHeight-90;return l.a.createElement("div",{id:"layoutContainer",style:{height:e}})}}]),a}(n.Component),k=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={results:{}},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.data;return!e||0===Object.keys(e).length&&e.constructor===Object?l.a.createElement("div",{className:"Project-Data"}):l.a.createElement("div",{className:"Project-Data"},l.a.createElement("p",null,e.Name," v.",e.Version),l.a.createElement("p",null,e.Platform,", unity ",e.UnityVersion),l.a.createElement("p",null,"by ",e.Author),l.a.createElement("p",null,"dataset from ",e.StartTime," - ",e.EndTime,", ",e.Date," (",e.Duration,")"))}}]),a}(n.Component),O=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={results:{}},n.hasFiles=e.hasFiles,n}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"ToolbarContainer"},l.a.createElement("div",{className:"ToolbarInner"},l.a.createElement("h1",null,"\ud83d\udccbabacus board")),l.a.createElement("div",{className:"ToolbarInner",style:{marginLeft:"25px"}},l.a.createElement(k,{data:this.props.projectData})),this.hasFiles&&l.a.createElement("div",{className:"ToolbarInner"}))}}]),a}(n.Component),V=a(11),F=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onDrop=function(e){n.setState({files:e}),n.sendData()},n.state={files:[]},n}return Object(o.a)(a,[{key:"sendData",value:function(){this.props.parentCallback(this.state.files)}},{key:"render",value:function(){this.state.files.map((function(e){return l.a.createElement("li",{key:e.name},e.name," - ",e.size," bytes")}));return l.a.createElement(V.a,{onDrop:this.onDrop},(function(e){var t=e.getRootProps,a=e.getInputProps;return l.a.createElement("section",{className:"dropzoneContainer"},l.a.createElement("div",t({className:"dropzone"}),l.a.createElement("input",a()),l.a.createElement("p",null,"drag 'n' drop or click to select file(s)")))}))}}]),a}(n.Component),I=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).onFilesLoaded=function(t){e.setState((function(a){return{isInitialized:!0,hasParsed:e.state.hasParsed,files:t,projectData:e.state.projectData,buildDemo:!1}}))},e.onFilesParsed=function(t){e.setState((function(a){return{isInitialized:e.state.isInitialized,hasParsed:!0,files:e.state.files,projectData:t,buildDemo:!1}}))},e.startDemo=function(){e.setState((function(t){return{isInitialized:!0,hasParsed:e.state.hasParsed,files:["D:/Abacus Board/abacus-board/exampleInput.json"],projectData:e.state.projectData,buildDemo:!0}}))},e.state={results:{}},e.state={isInitialized:!1,hasParsed:!1,files:[],projectData:{},buildDemo:!1},e}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(O,{id:"toolbar",hasFiles:this.state.isInitialized,projectData:this.state.projectData}),this.state.isInitialized?l.a.createElement(j,{parentCallback:this.onFilesParsed,files:this.state.files,buildDemo:this.state.buildDemo}):l.a.createElement("div",null,l.a.createElement(F,{parentCallback:this.onFilesLoaded}),l.a.createElement("div",{className:"footer"},l.a.createElement("a",{href:"#",className:"demo-button",onClick:this.startDemo},"load demo"))))}}]),a}(n.Component);a(24),a(25);i.a.render(l.a.createElement(I,null),document.getElementById("root"),(function(){console.log("abacus board v.1.0.0a")})),window.React=l.a,window.ReactDOM=i.a}},[[12,1,2]]]);
//# sourceMappingURL=main.8f8b31c5.chunk.js.map